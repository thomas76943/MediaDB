{% extends "media/base.html" %}
{% load media_tags %}
{% block title %}Browse Media{% endblock title %}
{% block content %}

    <!--Bootstrap 5.0.0 Beta and MDB5
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet"/>

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet"/>


    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.3.0/mdb.min.css" rel="stylesheet"/>
    -->

    <div class="container infoSection">
        <h2 style="padding-top: 7px;">Browse all Media</h2>
    </div>

    <div class="container infoSection">
        <ul class="auto-grid">
            {% for media in mediaPageObject %}
                <li class="module" style="list-style-type: none; white-space: normal">
                    {% with media|classname as modelclass %}

                        {% if modelclass == "Film" %}
                            <a href="/films/{{ media.slug }}">
                                {% if media in seenFilms %}
                                    <img class="item posterSmall seen" src="{{media.poster.url}}" alt="{{media.title}}">
                                Seen
                                {% else %}
                                    <img class="item posterSmall loading" src="{{media.poster.url}}" alt="{{media.title}}">
                                {% endif %}
                            </a>

                        {% elif modelclass == "Television" %}
                            <a href="/tv/{{ media.slug }}">
                                <img class="item posterSmall" src="{{media.poster.url}}" alt="{{media.title}}">
                            </a>

                        {% elif modelclass == "VideoGame" %}
                            <a href="/video-games/{{ media.slug }}">
                                <img class="item posterSmall" src="{{media.poster.url}}" alt="{{media.title}}">
                            </a>

                        {% elif modelclass == "Book" %}
                            <a href="/books/{{ media.slug }}">
                                <img class="item posterSmall" src="{{media.image.url}}" alt="{{media.title}}">
                            </a>

                        {% elif modelclass == "WebSeries" %}
                            <a href="/web-series/{{ media.slug }}">
                                <img class="item posterSmall" src="{{media.poster.url}}" alt="{{media.title}}">
                            </a>

                        {% elif modelclass == "Person" %}
                            <a href="/person/{{ media.slug }}">
                                <img class="item personSmall" src="{{media.image.url}}" alt="{{media.getFullName}}">
                            </a>


                        {% endif %}
                    {% endwith %}
                </li>
            {% endfor %}
        </ul>

        <style>
            /*Fix Spacing*/
            .page-link {
                margin-left: 0px;
                margin-right: 0px;
            }
            /*New background on item hover*/
            .page-item:hover {
                background: 5px rgba(0, 186, 122, 0.9);
                border: 5px black;
                border-radius: 3px;
            }
            /*Remove default white circle background*/
            .page-link:hover {
                background: none;
            }
            /*Remove button click highlight focus*/
            .page-link:focus {
              outline: none;
              box-shadow: none;
            }
            /*First and Last Buttons Wider*/
            .page-link.firstLast {
                width:75px
            }
        </style>

        <br><hr>
        <div style="margin: auto; width: 20%">
            <nav class="here" aria-label="Pagination Indicators">
                  <ul class="pagination justify-content-center">

                    {% if mediaPageObject.has_previous %}
                        <li class="page-item"><a class="page-link firstLast" style="color: white" href="{% relativeUrl 1 'page' request.GET.urlencode %}">&laquo; First</a></li>
                        <li class="page-item"><a class="page-link" style="color: white" href="{% relativeUrl mediaPageObject.previous_page_number 'page' request.GET.urlencode %}">{{ mediaPageObject.previous_page_number }}</a></li>
                    {% endif %}

                        <li class="page-item"><a class="page-link" style="color: white" href="#"><strong>{{ mediaPageObject.number }}</strong></a></li>

                      {% if mediaPageObject.has_next %}
                        <li class="page-item"><a class="page-link" style="color: white" href="{% relativeUrl mediaPageObject.next_page_number 'page' request.GET.urlencode %}">{{ mediaPageObject.next_page_number }}</a></li>
                        <li class="page-item"><a class="page-link" style="color: white" href="{% relativeUrl mediaPageObject.paginator.num_pages 'page' request.GET.urlencode %}">Last &raquo;</a></li>
                    {% endif %}

                  </ul>
            </nav>
        </div>

        <div class="container infoSection">

            <form method="get">
                {{ filteredFilms.form.as_p }}
                <input type="submit" value="press">
            </form>

        </div>

    </div>


{% endblock %}